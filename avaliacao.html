<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avaliação de Desempenho - Critérios</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="evaluation-container">
        <header class="evaluation-header">
            <img src="logo.png" alt="Prefeitura Municipal de São Luís" class="logo">
            <h1>Prefeitura Municipal de São Luís</h1>
            <h2>Secretaria Municipal de Administração</h2>
            <h3>AVALIAÇÃO ESPECIAL DE DESEMPENHO - AED</h3>
            <h4>ESTÁGIO PROBATÓRIO</h4>
        </header>

        <div class="initial-data">
            <h3>DADOS DO SERVIDOR</h3>
            <div id="serverData"></div>
        </div>

        <form id="evaluationForm" onsubmit="handleEvaluationSubmit(event)">
            <!-- Interesse -->
            <div class="evaluation-section">
                <h3>INTERESSE</h3>
                <p class="criteria-description">Ação no sentido de desenvolver e progredir pessoal e profissionalmente buscando meios para adquirir novos conhecimentos, dentro de seu campo de atuação.</p>
                <div class="rating-group">
                    <div class="rating-option">
                        <input type="radio" name="interesse" value="1" id="interesse1" required>
                        <label for="interesse1">1-2 (Insatisfatório)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="interesse" value="3" id="interesse3">
                        <label for="interesse3">3-5 (Regular)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="interesse" value="6" id="interesse6">
                        <label for="interesse6">6-8 (Bom)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="interesse" value="9" id="interesse9">
                        <label for="interesse9">9-10 (Excelente)</label>
                    </div>
                </div>
            </div>

            <!-- Produtividade -->
            <div class="evaluation-section">
                <h3>PRODUTIVIDADE</h3>
                <p class="criteria-description">Capacidade de produzir resultados na quantidade e na qualidade necessárias no desempenho das suas tarefas, cumprindo ou superando as metas estabelecidas.</p>
                <div class="rating-group">
                    <div class="rating-option">
                        <input type="radio" name="produtividade" value="1" id="prod1" required>
                        <label for="prod1">1-2 (Insatisfatório)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="produtividade" value="3" id="prod3">
                        <label for="prod3">3-5 (Regular)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="produtividade" value="6" id="prod6">
                        <label for="prod6">6-8 (Bom)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="produtividade" value="9" id="prod9">
                        <label for="prod9">9-10 (Excelente)</label>
                    </div>
                </div>
            </div>

            <!-- Eficiência -->
            <div class="evaluation-section">
                <h3>EFICIÊNCIA</h3>
                <p class="criteria-description">Capacidade de produzir resultados, com exatidão, boa apresentação, ordem e cuidado, utilizando métodos adequados para satisfazer os objetivos previamente definidos, sem causar prejuízos à qualidade do serviço.</p>
                <div class="rating-group">
                    <div class="rating-option">
                        <input type="radio" name="eficiencia" value="1" id="efic1" required>
                        <label for="efic1">1-2 (Insatisfatório)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="eficiencia" value="3" id="efic3">
                        <label for="efic3">3-5 (Regular)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="eficiencia" value="6" id="efic6">
                        <label for="efic6">6-8 (Bom)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="eficiencia" value="9" id="efic9">
                        <label for="efic9">9-10 (Excelente)</label>
                    </div>
                </div>
            </div>

            <!-- Iniciativa -->
            <div class="evaluation-section">
                <h3>INICIATIVA</h3>
                <p class="criteria-description">Ação independente na execução de suas atividades e apresentação de sugestões, objetivando a melhoria do serviço.</p>
                <div class="rating-group">
                    <div class="rating-option">
                        <input type="radio" name="iniciativa" value="1" id="inic1" required>
                        <label for="inic1">1-2 (Insatisfatório)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="iniciativa" value="3" id="inic3">
                        <label for="inic3">3-5 (Regular)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="iniciativa" value="6" id="inic6">
                        <label for="inic6">6-8 (Bom)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="iniciativa" value="9" id="inic9">
                        <label for="inic9">9-10 (Excelente)</label>
                    </div>
                </div>
            </div>

            <!-- Assiduidade -->
            <div class="evaluation-section">
                <h3>ASSIDUIDADE</h3>
                <p class="criteria-description">Maneira como cumpre o expediente, estando sempre presente no local de trabalho, ausentando-se apenas por motivos justos e com a anuência da chefia imediata.</p>
                <div class="rating-group">
                    <div class="rating-option">
                        <input type="radio" name="assiduidade" value="1" id="assi1" required>
                        <label for="assi1">1-2 (Insatisfatório)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="assiduidade" value="3" id="assi3">
                        <label for="assi3">3-5 (Regular)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="assiduidade" value="6" id="assi6">
                        <label for="assi6">6-8 (Bom)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="assiduidade" value="9" id="assi9">
                        <label for="assi9">9-10 (Excelente)</label>
                    </div>
                </div>
            </div>

            <!-- Pontualidade -->
            <div class="evaluation-section">
                <h3>PONTUALIDADE</h3>
                <p class="criteria-description">Maneira como observa os horários de trabalho, evitando atrasos injustificáveis.</p>
                <div class="rating-group">
                    <div class="rating-option">
                        <input type="radio" name="pontualidade" value="1" id="pont1" required>
                        <label for="pont1">1-2 (Insatisfatório)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="pontualidade" value="3" id="pont3">
                        <label for="pont3">3-5 (Regular)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="pontualidade" value="6" id="pont6">
                        <label for="pont6">6-8 (Bom)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="pontualidade" value="9" id="pont9">
                        <label for="pont9">9-10 (Excelente)</label>
                    </div>
                </div>
            </div>

            <!-- Administração do Tempo -->
            <div class="evaluation-section">
                <h3>ADMINISTRAÇÃO DO TEMPO</h3>
                <p class="criteria-description">Capacidade de utilizar racional e produtivamente o tempo de trabalho, de acordo com o que o cargo requer, não utilizando esse tempo para assuntos particulares.</p>
                <div class="rating-group">
                    <div class="rating-option">
                        <input type="radio" name="adm_tempo" value="1" id="temp1" required>
                        <label for="temp1">1-2 (Insatisfatório)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="adm_tempo" value="3" id="temp3">
                        <label for="temp3">3-5 (Regular)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="adm_tempo" value="6" id="temp6">
                        <label for="temp6">6-8 (Bom)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="adm_tempo" value="9" id="temp9">
                        <label for="temp9">9-10 (Excelente)</label>
                    </div>
                </div>
            </div>

            <!-- Relacionamento -->
            <div class="evaluation-section">
                <h3>RELACIONAMENTO</h3>
                <p class="criteria-description">Habilidade no atendimento ao público e na sua orientação para a satisfação das necessidades deste, contribuindo para a obtenção de bons resultados.</p>
                <div class="rating-group">
                    <div class="rating-option">
                        <input type="radio" name="relacionamento" value="1" id="rel1" required>
                        <label for="rel1">1-2 (Insatisfatório)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="relacionamento" value="3" id="rel3">
                        <label for="rel3">3-5 (Regular)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="relacionamento" value="6" id="rel6">
                        <label for="rel6">6-8 (Bom)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="relacionamento" value="9" id="rel9">
                        <label for="rel9">9-10 (Excelente)</label>
                    </div>
                </div>
            </div>

            <!-- Interação com a Equipe -->
            <div class="evaluation-section">
                <h3>INTERAÇÃO COM A EQUIPE</h3>
                <p class="criteria-description">Espírito de cooperação e colaboração na execução do trabalho, atitude para os trabalhos em equipe, contribuindo para o alcance de resultados, bem como prontidão para colaborar com o grupo.</p>
                <div class="rating-group">
                    <div class="rating-option">
                        <input type="radio" name="interacao" value="1" id="inter1" required>
                        <label for="inter1">1-2 (Insatisfatório)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="interacao" value="3" id="inter3">
                        <label for="inter3">3-5 (Regular)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="interacao" value="6" id="inter6">
                        <label for="inter6">6-8 (Bom)</label>
                    </div>
                    <div class="rating-option">
                        <input type="radio" name="interacao" value="9" id="inter9">
                        <label for="inter9">9-10 (Excelente)</label>
                    </div>
                </div>
            </div>

            <!-- Total Points and Grade -->
            <div class="evaluation-section total-points-section">
                <h3>TOTAL DE PONTOS E CONCEITO</h3>
                <div class="points-display">
                    <div class="total-points">
                        <label>Total de Pontos:</label>
                        <span id="totalPoints">0</span>
                    </div>
                    <div class="grade-scale">
                        <h4>Conceitos:</h4>
                        <div class="grade-ranges">
                            <div>INSATISFATÓRIO: De 10 a 24</div>
                            <div>REGULAR: De 25 a 54</div>
                            <div>BOM: De 55 a 84</div>
                            <div>EXCELENTE: De 85 a 100</div>
                        </div>
                    </div>
                    <div class="final-grade">
                        <label>Conceito Final:</label>
                        <span id="finalGrade">-</span>
                    </div>
                </div>
            </div>

            <!-- Comments Section -->
            <div class="comments-section">
                <h3>COMENTÁRIOS DO CHEFE IMEDIATO E DO AVALIADO</h3>
                <textarea name="comments" rows="5" required></textarea>
            </div>

            <!-- Course Indication -->
            <div class="courses-section">
                <h3>INDICAÇÃO DE CURSOS</h3>
                <div class="course-input">
                    <label>Curso 1:</label>
                    <input type="text" name="curso1">
                    <label>Código:</label>
                    <input type="text" name="codigo1">
                </div>
                <div class="course-input">
                    <label>Curso 2:</label>
                    <input type="text" name="curso2">
                    <label>Código:</label>
                    <input type="text" name="codigo2">
                </div>
                <div class="course-input">
                    <label>Curso 3:</label>
                    <input type="text" name="curso3">
                    <label>Código:</label>
                    <input type="text" name="codigo3">
                </div>
            </div>

            <!-- Signature Section -->
            <div class="signature-section">
                <h3>NOME/MATRÍCULA/ASSINATURA/DATA</h3>
                <div class="signature-group">
                    <div class="signature-field">
                        <label>CHEFE IMEDIATO/AVALIADOR</label>
                        <input type="text" name="chefe_nome" placeholder="Nome" required>
                        <input type="text" name="chefe_matricula" placeholder="Matrícula" required>
                        <input type="date" name="chefe_data" required>
                    </div>
                    <div class="signature-field">
                        <label>AVALIADO</label>
                        <input type="text" name="avaliado_nome" placeholder="Nome" required>
                        <input type="text" name="avaliado_matricula" placeholder="Matrícula" required>
                        <input type="date" name="avaliado_data" required>
                    </div>
                </div>
            </div>

            <button type="submit" class="submit-btn">Finalizar Avaliação</button>
        </form>
    </div>

    <script>
        // Load initial form data when page loads
        window.addEventListener('DOMContentLoaded', () => {
            const avaliacaoData = JSON.parse(localStorage.getItem('avaliacaoData'));
            if (!avaliacaoData) {
                window.location.href = 'index.html';
                return;
            }

            // Display initial form data
            const serverDataDiv = document.getElementById('serverData');
            serverDataDiv.innerHTML = `
                <p><strong>Nome:</strong> ${avaliacaoData.nome}</p>
                <p><strong>Matrícula:</strong> ${avaliacaoData.matricula}</p>
                <p><strong>Órgão:</strong> ${avaliacaoData.orgao}</p>
                <p><strong>Setor:</strong> ${avaliacaoData.setor}</p>
                <p><strong>Cargo:</strong> ${avaliacaoData.cargo}</p>
                <p><strong>Período:</strong> ${formatDate(avaliacaoData.periodoDe)} a ${formatDate(avaliacaoData.periodoAte)}</p>
                <p><strong>Avaliação:</strong> ${avaliacaoData.parcial.map(p => p + 'ª').join(', ')}</p>
            `;

            // Pre-fill avaliado fields
            document.querySelector('input[name="avaliado_nome"]').value = avaliacaoData.nome;
            document.querySelector('input[name="avaliado_matricula"]').value = avaliacaoData.matricula;

            // Add change event listeners to all radio buttons for real-time calculation
            const radioButtons = document.querySelectorAll('input[type="radio"]');
            radioButtons.forEach(radio => {
                radio.addEventListener('change', calculateTotalAndGrade);
            });
        });

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('pt-BR');
        }

        function calculateTotalAndGrade() {
            const form = document.getElementById('evaluationForm');
            const criteria = ['interesse', 'produtividade', 'eficiencia', 'iniciativa', 
                            'assiduidade', 'pontualidade', 'adm_tempo', 'relacionamento', 'interacao'];
            
            let total = 0;
            criteria.forEach(criterion => {
                const selected = form.querySelector(`input[name="${criterion}"]:checked`);
                if (selected) {
                    total += parseInt(selected.value);
                }
            });

            // Update total points display
            document.getElementById('totalPoints').textContent = total;

            // Determine and display grade
            let grade = '-';
            if (total >= 85) grade = 'EXCELENTE';
            else if (total >= 55) grade = 'BOM';
            else if (total >= 25) grade = 'REGULAR';
            else if (total > 0) grade = 'INSATISFATÓRIO';

            document.getElementById('finalGrade').textContent = grade;
            return { total, grade };
        }

        function handleEvaluationSubmit(event) {
            event.preventDefault();
            
            // Calculate final total and grade
            const { total, grade } = calculateTotalAndGrade();
            
            // Get all form data
            const formData = new FormData(event.target);
            const evaluationData = Object.fromEntries(formData.entries());
            
            // Add total points and grade
            evaluationData.totalPoints = total;
            evaluationData.finalGrade = grade;
            
            // Combine with initial data
            const avaliacaoData = JSON.parse(localStorage.getItem('avaliacaoData'));
            const completeData = {
                ...avaliacaoData,
                ...evaluationData
            };

            // Here you would typically send the data to a server
            console.log('Complete evaluation data:', completeData);
            
            // For demo purposes, show success message and redirect
            alert('Avaliação enviada com sucesso!');
            localStorage.removeItem('avaliacaoData'); // Clear stored data
            window.location.href = 'index.html';
        }
    </script>
</body>
</html> 